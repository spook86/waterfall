function Waterfall(b,a){this.box=b;this.parent=a;this.init();}Waterfall.prototype={$:function(a){return typeof(a)==="string"?document.getElementById(a):a;
},getByClass:function(e,c){var d=this;var a=[];var g=[];if(c){var f=d.$(this.parent);a=f.getElementsByTagName("*");}else{a=document.getElementsByTagName("*");
}for(var b=0;b<a.length;b++){if(a[b].className==e){g.push(a[b]);}}return g;},getMinIndex:function(a,c){for(var b=0;b<a.length;b++){if(a[b]==c){return b;
}}},setPage:function(){var e=this;var a=e.$(this.parent);var c=e.getByClass(this.box,this.parent);var j=document.documentElement.clientWidth||document.body.clientWidth;
var h=c[0].offsetWidth;var g=Math.floor(j/h);a.style.width=g*h+"px";var f=[];for(var b=0;b<c.length;b++){if(b<g){f.push(c[b].offsetHeight);}else{var k=Math.min.apply(null,f);
var d=e.getMinIndex(f,k);c[b].style.position="absolute";c[b].style.top=k+"px";c[b].style.left=c[d].offsetLeft+"px";f[d]+=c[b].offsetHeight;}}},createEles:function(b){var d=this;
var f=d.$(this.parent);for(var a=0;a<datInt.data.length;a++){var g=document.createElement("div");g.className="box";f.appendChild(g);var e=document.createElement("div");
e.className="pic";g.appendChild(e);var c=document.createElement("img");c.src="images/"+datInt.data[a].src;e.appendChild(c);}},checkScrollSlide:function(){var c=this;
var f=c.$(this.parent);var b=c.getByClass(this.box,this.parent);var e=document.documentElement.scrollTop||document.body.scrollTop;var d=document.documentElement.clientHeight||document.body.clientHeight;
var a=b[b.length-1].offsetTop+Math.floor(b[b.length-1].offsetHeight/2);if(a<e+d){var c=this;c.createEles(datInt);c.setPage();}},init:function(){var a=this;
a.setPage();window.onscroll=function(){a.checkScrollSlide();};}};